!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).Collapse=t(e.React)}(this,function(e){"use strict";var t="default"in e?e.default:e;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c="collapsed",s="collapsing",u="expanding",f="expanded";function p(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}var y=function(t){return e.useRef(t).current};function h(n){var i=n.children,h=n.transition,d=n.style,b=n.render,v=n.elementType,g=n.isOpen,O=n.collapseHeight,m=n.onInit,S=n.onChange,w=a(n,["children","transition","style","render","elementType","isOpen","collapseHeight","onInit","onChange"]),j=function(){return"0px"===O?"hidden":""},P=l(e.useReducer(function(e){return e+1},0),2),x=(P[0],P[1]),D=e.useRef(),E=l(e.useState(0),2),T=E[0],k=E[1],A=y({collapseState:g?f:c,style:{height:g?"":O,visibility:g?"":j()}});e.useEffect(function(){T&&C(S)},[T]);var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(e.name,e(o({state:A.collapseState,style:A.style},t)))};function H(){return"".concat(D.current.scrollHeight,"px")}var I=A.collapseState===f||A.collapseState===u;!I&&g&&D.current&&(A.collapseState=u,p(function(){D.current&&A.collapseState===u&&(A.style={height:H(),visibility:""},x(),k(Date.now()))})),I&&!g&&D.current&&(A.collapseState=s,A.style={height:H(),visibility:""},x(),p(function(){D.current&&A.collapseState===s&&(A.style={height:O,visibility:""},x(),k(Date.now()))}));var R=o({overflow:"hidden",transition:h},d,{},A.style),q=v,F=e.useCallback(function(e){e&&(D.current=e,C(m,{node:e}))},[v]);return t.createElement(q,r({ref:F,style:R,onTransitionEnd:function(e){var t=e.target,n=e.propertyName;if(t===D.current&&"height"===n){var r=t.style.height;switch(A.collapseState,A.collapseState){case u:""===r||r===O||D.current&&(A.collapseState=f,A.style={height:"",visibility:""},x(),k(Date.now()));break;case s:""===r||r!==O||D.current&&(A.collapseState=c,A.style={height:O,visibility:j()},x(),k(Date.now()))}}}},w),"function"==typeof i?i(A.collapseState):"function"==typeof b?b(A.collapseState):i)}return h.defaultProps={className:"collapse-css-transition",elementType:"div",style:{},collapseHeight:"0px"},h});
//# sourceMappingURL=Collapse.umd.js.map
